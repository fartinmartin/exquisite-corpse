(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{251:function(t,e,r){var content=r(266);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("0038bd66",content,!0,{sourceMap:!1})},258:function(t,e,r){"use strict";r.r(e);var n={props:{drawing:Object}},o=(r(265),r(7)),component=Object(o.a)(n,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"drawing-item pointer"},[e("img",{staticClass:"border",attrs:{src:this.drawing.thumb,alt:""}})])}),[],!1,null,"a915746a",null);e.default=component.exports},265:function(t,e,r){"use strict";var n=r(251);r.n(n).a},266:function(t,e,r){(e=r(22)(!1)).push([t.i,".drawing-item[data-v-a915746a]{width:100%}.drawing-item img[data-v-a915746a]{transition:transform .1s ease,box-shadow .1s ease,border .1s ease}.drawing-item:hover img[data-v-a915746a]{--border-color:var(--light-yellow);--box-shadow-color:var(--orange);--box-shadow-size:6px;transform:translate3d(-4px,-4px,0)}",""]),t.exports=e},271:function(t,e,r){var content=r(304);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("28e81906",content,!0,{sourceMap:!1})},272:function(t,e,r){var content=r(306);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("6dd6a85c",content,!0,{sourceMap:!1})},273:function(t,e,r){var content=r(308);"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(23).default)("1fbd458a",content,!0,{sourceMap:!1})},303:function(t,e,r){"use strict";var n=r(271);r.n(n).a},304:function(t,e,r){(e=r(22)(!1)).push([t.i,"#bot[data-v-b25d8af8],#mid[data-v-b25d8af8],#top[data-v-b25d8af8]{border:var(--border-size) solid var(--border-color)}h1[data-v-b25d8af8]{max-width:400px;white-space:nowrap;overflow:hidden;text-overflow:ellipsis}h1 span[data-v-b25d8af8]{font-weight:400;margin-right:1ch}",""]),t.exports=e},305:function(t,e,r){"use strict";var n=r(272);r.n(n).a},306:function(t,e,r){(e=r(22)(!1)).push([t.i,".related[data-v-b25d8af8]{margin-top:120px;padding:1rem calc(1rem - 7px)}.gallery[data-v-b25d8af8]{display:grid;grid-template-columns:repeat(3,172px);grid-template-rows:repeat(1,172px);grid-gap:13.33333px}.gallery.more-by[data-v-b25d8af8]{grid-template-rows:repeat(2,-webkit-max-content);grid-template-rows:repeat(2,max-content);min-height:172px}.none-found[data-v-b25d8af8]{text-align:center;grid-column:1/-1;margin-top:60px}",""]),t.exports=e},307:function(t,e,r){"use strict";var n=r(273);r.n(n).a},308:function(t,e,r){(e=r(22)(!1)).push([t.i,"form[data-v-b25d8af8]{display:flex}form .icon[data-v-b25d8af8]{width:auto;padding:0 5px}form input[data-v-b25d8af8]{display:none}form[data-v-b25d8af8]>:not(:last-child){margin-right:1rem}input:not(:checked)+label h1[data-v-b25d8af8]{font-weight:400;opacity:.5}",""]),t.exports=e},326:function(t,e,r){"use strict";r.r(e);r(49),r(17),r(37),r(18),r(10),r(252);var n=r(19),o=(r(16),r(2)),d=r(246),c=r(259),l=r(260);function f(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function v(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?f(Object(source),!0).forEach((function(e){Object(n.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):f(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var m={name:"Section",head:function(){return{title:"exquisite corpse club â€¢ ".concat(this.section.title," by ").concat(this.section.artist)}},components:{Canvas:d.default,LikeButton:c.default,DownloadButton:l.default},data:function(){return{isFetching:"not yet",section:{},related:{featuredIn:[],moreBy:[],toggle:"featuredIn"}}},mounted:function(){this.fetchDocById("sections",this.$route.params.id)},methods:{fetchDocById:function(t,e){var r=this;return Object(o.a)(regeneratorRuntime.mark((function n(){var o,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r.isFetching="yes",o=r.$fireStore.collection(t).doc(e),n.next=4,o.get();case 4:d=n.sent,r.section=v({},d.data()),r.section.paths=Object.values(d.data().drawing),r.fetchRelated();case 8:case"end":return n.stop()}}),n)})))()},fetchRelated:function(){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var r,n,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.section.featuredIn){e.next=3;break}return t.isFetching="done",e.abrupt("return");case 3:return r=3,t.section.featuredIn.forEach((function(e){--r<0||e.get().then((function(e){var r={docId:e.id,thumb:e.data().thumb};t.related.featuredIn.push(r)}))})),n=t.$fireStore.collection("sections"),o=n.where("artist","==",t.section.artist).orderBy("likes","desc").limit(6),e.next=9,o.get();case 9:e.sent.forEach((function(e){var r={docId:e.id,thumb:e.data().thumb};e.id!==t.$route.params.id&&t.related.moreBy.push(r)})),t.isFetching="done";case 12:case"end":return e.stop()}}),e)})))()}}},h=(r(303),r(305),r(307),r(7)),component=Object(h.a)(m,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wrap"},["done"!==t.isFetching?r("div",[t._v("loading")]):t._e(),t._v(" "),r("div",{staticClass:"mw-canvas"},["done"===t.isFetching?r("Canvas",{ref:"previewCanvas",attrs:{id:"top",mode:"display",section:t.section}}):t._e()],1),t._v(" "),"done"===t.isFetching?r("div",{staticClass:"border yellow info-panel mt mw-canvas"},[r("div",[r("h1",[t._v(t._s(t.section.title)+" "),r("span",[t._v("by")]),t._v(t._s(t.section.artist))])]),t._v(" "),r("div",{staticClass:"menu"},[r("LikeButton",{attrs:{collection:"sections",docId:this.$route.params.id}}),t._v(" "),r("DownloadButton",{attrs:{image:t.section.thumb,title:t.section.title,artist:t.section.artist}})],1)]):t._e(),t._v(" "),"done"===t.isFetching?r("div",{staticClass:"border yellow info-panel mt mb mw-canvas related"},[r("form",[r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.related.toggle,expression:"related.toggle"}],attrs:{type:"radio",id:"featuredIn",name:"toggle",value:"featuredIn"},domProps:{checked:t._q(t.related.toggle,"featuredIn")},on:{change:function(e){return t.$set(t.related,"toggle","featuredIn")}}}),t._v(" "),t._m(0)]),t._v(" "),r("div",[r("input",{directives:[{name:"model",rawName:"v-model",value:t.related.toggle,expression:"related.toggle"}],attrs:{type:"radio",id:"moreBy",name:"toggle",value:"moreBy"},domProps:{checked:t._q(t.related.toggle,"moreBy")},on:{change:function(e){return t.$set(t.related,"toggle","moreBy")}}}),t._v(" "),t._m(1)])])]):t._e(),t._v(" "),"done"===t.isFetching&&"featuredIn"===t.related.toggle?r("div",{staticClass:"gallery",class:{more:"moreBy"===t.related.toggle}},t._l(t.related.featuredIn,(function(t){return r("nuxt-link",{key:t.docId,attrs:{to:"/gallery/"+t.docId}},[r("Drawing",{attrs:{drawing:t}})],1)})),1):t._e(),t._v(" "),"done"===t.isFetching&&"moreBy"===t.related.toggle?r("div",{staticClass:"gallery more-by"},[t.related.moreBy.length?t._e():r("div",{staticClass:"none-found"},[t._v("\n      no drawings found!\n    ")]),t._v(" "),t._l(t.related.moreBy,(function(t){return r("nuxt-link",{key:t.docId,attrs:{to:"/gallery/section/"+t.docId}},[r("Drawing",{attrs:{drawing:t}})],1)}))],2):t._e()])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"featuredIn"}},[e("h1",{staticClass:"icon interactive"},[this._v("featured in...")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("label",{attrs:{for:"moreBy"}},[e("h1",{staticClass:"icon interactive"},[this._v("more by this artist...")])])}],!1,null,"b25d8af8",null);e.default=component.exports;installComponents(component,{Canvas:r(246).default,LikeButton:r(259).default,DownloadButton:r(260).default,Drawing:r(258).default})}}]);